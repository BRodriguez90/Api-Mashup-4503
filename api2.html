<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
       <title></title>
       <link rel="stylesheet" href="css/normalize.css">
       <link rel="stylesheet" href="css/reset.css">
       <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
       <link rel="stylesheet" href="css/cover.css">
       <link rel="stylesheet" href="css/styles.css">
   </head>

   <body>

      <!--<input type="text" id="search" name="text" placeholder="Enter something...">-->
      <form action="" method="POST" name="findpet">
         <label for="location">Location</label>
         <input type="text" required placeholder="Ex: Orlando, Fl or 32804" id="location" name="location">

         <label for="animal">Type of animal</label>
         <select id="animal" require name="animal" title="Animal type">
            <option class="animal" name="animal" selected value="">Any</option>
            <option class="animal" name="animal" value="dog">Dog</option>
            <option class="animal" name="animal" value="cat">Cat</option>
            <option class="animal" name="animal" value="rabbit">Rabbit</option>
            <option class="animal" name="animal" value="smallfurry">Smallfurry</option>
            <option class="animal" name="animal" value="horse">Horse</option>
            <option class="animal" name="animal" value="bird">Bird</option>
            <option class="animal" name="animal" value="reptile">Reptile</option>
            <option class="animal" name="animal" value="barnyard">Barnyard</option>
            <option class="animal" name="animal" value="pig">Pig</option>
         </select>
         <label for="breed">Select Breed</label>
         <select id="breed" name="breed">
            <option class="s_breed" id="s_breed" label="Breed" selected></option>
         </select>
         <!--<label for="baby">Baby</label>
         <input type="checkbox" name="age" id="baby" value="Baby">
         <label for="young">Young</label>
         <input type="checkbox" name="age" id="young" value="Young">
         <label for="adult">Adult</label>
         <input type="checkbox" name="age" id="adult" value="Adult">
         <label for="senior">Senior</label>
         <input type="checkbox" name="age" id="senior" value="Senior">-->
         <select id="gender" name="gender">
            <option value="M">Male</option>
            <option value="F">Female</option>
         </select>
         <input type="submit" name="test" id="testsearch" value="testsearch">
         <input type="submit" name="search" id="search" value="Lookup pets">
      </form>
      <div class="container">
         <div class="row">
            <div class="animals_list">
               <img src="images/rolling.svg" id="rolling" alt="loading animals">
               <!--<div id="profile"></div>-->
            </div>
         </div>
      </div>
      <div id="map"></div>
      <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
      <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAiLvjIbaySEKullv0nsGuJE47uolVDz48&callback=initMap" async defer></script>
      <script type="text/javascript" src="scripts/date.js"></script>
      <script type="text/javascript" src="scripts/date-en-US.js"></script>
      <script type="text/javascript" src="scripts/api2.js"></script>
      <script type="text/javascript">
         var myLatLng;
         var map;
         var marker;
         var infowindow;
         var markers = [];
         var info_windows = [];
         var contentString;
         function initMap() {
             myLatLng = {
                 lat: 27.6021,
                 lng: -81.5114
             };
             map = new google.maps.Map(document.getElementById('map'), {
                 center: myLatLng,
                 zoom:5
                 //scrollwheel: false
             });

            shLatLng = [];
            console.log(shLatLng);
            pet_info = [];
            console.log(pet_info);

            map.addListener('click', function(event) {
             addsMarker(event.shLatLng);
          });

           addsWindow();

         } // end of google maps initMap

         function addsMarker(){
            var paw = "images/Paw-print2.svg";
         for (var i = 0; i < shLatLng.length; i++) {
           marker = new google.maps.Marker({
                position: {lat:parseFloat(shLatLng[i].lat),lng:parseFloat(shLatLng[i].lng)},
                map: map,
               // label:pet_info[i].name,
                icon:paw,
                title: shLatLng[i].shelter,
                clickable:true
           });
           google.maps.event.addListener(marker, 'click', (function (marker, i) {
                return function () {
                   contentString =
                     '<div id="content" style="color:#000; text-shadow:none;">'+
                         '<div id="siteNotice">'+
                           '<img id="info_img" src="' + pet_info[i].picture + '"alt="' + pet_info[i].name + '">'+
                         '</div>'+
                         '<h1 id="firstHeading" class="firstHeading">'+ pet_info[i].name +'</h1>'+
                         '<p class="age">Age: ' + pet_info[i].age + '</p>' +
                         '<p class="phone">Phone: ' + pet_info[i].phone + '</p>' +
                         '<div id="bodyContent">'+
                         '<p style="color:#000; text-shadow:none; text-align:left; line-height:180%; font-size:initial;"><b>About: </b> ' + pet_info[i].description + '</p>'+
                         '</div>'+
                     '</div>';

                    infowindow.setContent(contentString);
                    //console.log(pet_info);
                    //console.log(info_windows);
                    infowindow.open(map, marker);
                }
            })(marker, i));
          /*marker.addListener('click', function(event) {
              addsWindow(event.pet_info)
           });*/
         }
         markers.push(marker);
      } // end addsMarker function

      function addsWindow(){
            infowindow = new google.maps.InfoWindow();
      } // End addsWindow function

      function setMapOnAll(map) {
            for (var i = 0; i < markers.length; i++) {
              markers[i].setMap(map);
            }
         }
      function clearMarkers() {
       setMapOnAll(null);
      }
     function deleteMarkers() {
        clearMarkers();
        markers = [];
      }
      </script>
   </body>
</html>
